# ===========================================
# Guacamole with Cloudflared Configuration
# ===========================================
# Copy this file to .env and fill in the values

# PostgreSQL Database Configuration
POSTGRES_DB=guacamole_db
POSTGRES_USER=guacamole_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Cloudflare Tunnel Token
# Create a tunnel at https://one.dash.cloudflare.com/
# Go to Networks -> Tunnels -> Create a tunnel
# Copy the token and paste it here
CLOUDFLARE_TUNNEL_TOKEN=YOUR_TUNNEL_TOKEN_HERE

# Guacd Log Level (debug, info, warning, error)
GUACD_LOG_LEVEL=info

# Auto-create accounts in database
POSTGRESQL_AUTO_CREATE_ACCOUNTS=true

# ===========================================
# Brute Force Protection (Native)
# ===========================================
# Max failed login attempts before lockout
API_MAX_LOGIN_ATTEMPTS=5
# Lockout duration in seconds (300 = 5 minutes)
API_LOCKOUT_DURATION=300
# Time window for counting failures in seconds
API_MAX_LOGIN_ATTEMPTS_PERIOD=60

# Optional: TOTP Two-Factor Authentication
# TOTP_ENABLED=true

# Optional: OpenID Connect Configuration
# OPENID_AUTHORIZATION_ENDPOINT=
# OPENID_JWKS_ENDPOINT=
# OPENID_ISSUER=
# OPENID_CLIENT_ID=
# OPENID_REDIRECT_URI=
